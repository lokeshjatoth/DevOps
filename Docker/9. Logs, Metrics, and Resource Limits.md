What is Container Resource Management?
Container resource management is the practice of controlling and monitoring how much CPU, memory, disk I/O, and network bandwidth each container can consume. Unlike virtual machines that have fixed resource allocations, containers share the host's kernel and resources dynamically. Without proper resource management, containers can compete destructively for resources, leading to performance degradation, system instability, or complete service outages.



Container Resource Management Architecture
- Linux Kernel and cgroups manage resource allocation across containers

- Real-time monitoring tracks usage and availability

- Container resource allocation includes CPU cores, RAM, and I/O bandwidth

- Resource utilization monitoring shows current usage and available capacity

- Examples: Web app gets 2 cores and 2GB, database gets 4 cores and 8GB

Docker Resource Control Mechanisms
- CPU Resource Management: Docker uses Linux cgroups to control CPU access with --cpus and --cpu-shares flags

- Memory Resource Management: Set memory limits with --memory flag to prevent OOM issues

- I/O Resource Management: Control disk I/O with --device-read-bps and --device-write-bps

- Network Resource Management: Manage network bandwidth and connection limits

Container Logging and Monitoring
- Docker Built-in Monitoring: docker stats provides real-time resource usage metrics

- Logging Drivers: json-file, syslog, journald for different log destinations

- Advanced Monitoring: Prometheus, Grafana, cAdvisor for production environments

- Container Health Monitoring: Health checks and alerting for resource thresholds

Performance Optimization
- Resource Right-Sizing: Monitor usage patterns to allocate appropriate resources

- Multi-Tier Resource Allocation: Different limits for frontend, backend, database tiers

- Horizontal vs Vertical Scaling: Scale out vs scale up based on resource constraints

- Memory and CPU troubleshooting: Identify bottlenecks and optimize resource allocation

1. Run a Redis container in detached mode and name it `db-server`.
```
sudo docker run -d --name db-server redis
```


2. View the resource usage statistics for the running `db-server` container. Let it run for a few seconds and then press `Ctrl+C` to exit.
```
sudo docker stats db-server
```
3. View the startup logs for the `db-server` container.
```
sudo docker logs db-server
```

4. Run the Redis container again, but this time, limit its memory usage to 128 megabytes and CPUs to 0.5. Name it `limited-db`.
```
sudo docker run -d --name limited-db --memory="128m" --cpus="0.5" redis
```

5. Use `docker inspect` to verify that the memory and CPU limits are applied to the `limited-db` container.
```
sudo docker inspect limited-db | grep -E "Memory|NanoCpus"
```